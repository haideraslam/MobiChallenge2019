<app-layout>
  <app-menu menu [selectedMenu]='"Track Fleet"'></app-menu>
  <div body class="col-lg-12 col-md-12 col-sm-12 col-xs-12 mb-15 pl-0 shadow-lg" style="border-radius: 10px !important; overflow: hidden;">
    <div style="padding-right: 10px; overflow: hidden; border-radius: 10px; max-height: 600px" class="shadow-lg">
      <agm-map
        [latitude]="lat"
        [longitude]="lon"
        [zoom]="zoom"
        [disableDefaultUI]="false"
        [zoomControl]="false">
        <agm-marker
          *ngFor="let m of markers; let i = index"
          [latitude]="m.lat"
          [longitude]="m.lon"
          [iconUrl]="m.icon"
          [markerDraggable]="m.draggable">
          
          <agm-info-window>
            <div style="width: 250px; padding-top: 10px; padding-left: 10px; padding-bottom: 10px">
              <div class="float-left">
                <h5>{{m.model}}</h5>
              </div>
              <div class="float-right">
                <span class="btn btn-default rounded-20">{{m.status}}</span>
              </div>
              <div class="clearfix"></div>
              <div style="margin: auto; width: 240px; height: 160px; margin-top: 10px; margin-bottom: 10px; border-radius: 10px; overflow: hidden;">
                <img src="../../../assets/image/{{m.featuredImage}}" style="max-width: 100%; max-height: 100%; margin: auto;" alt="">
              </div>
              <div class="float-left">
                <span class="text text-muted">Speed : {{m.speed}} km/hr</span>
              </div>
              <div class="float-right">
                  <span class="text text-muted text-left">Tire Pressure : 32 PSI</span>
              </div>
              <div class="clearfix"></div>
              <div class="mt-3">
                <a [routerLink]="[ '/fleet-owner/car-details', m.vin, m.balance ]" class="btn btn-default btn-block rounded-20 ">
                  VIEW DETAILS
                </a>
              </div>
            </div>
          </agm-info-window>
        </agm-marker>
      </agm-map>
    </div>
  </div>
</app-layout>
